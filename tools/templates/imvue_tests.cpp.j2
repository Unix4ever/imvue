// this file is automatically generated by ImVue tools

#include <gtest/gtest.h>
#include "imvue.h"
#include "utils.h"

{%- macro populate_required_fields(element, text) -%}
{%- for field in element.fields | d([]) -%}
{%- if field.required | d(False) and (not text and field.param_read != element.from_text or text and field.param_read == element.from_text) -%}
{%- set value = element | get_test_value(field) -%}
{%- if text -%}
{{ value }}
{%- else -%}
{{ field.attr_name }}=\"{{value}}\"
{%- endif -%}
{%- endif -%}
{%- endfor -%}
{%- endmacro -%}

{%- for element in elements %}
const char* testDocument{{ element.cls }} =
"<template>"
  "<window name=\"test\">"
    "{{ element.wrapped_by | find_element_by_class_name | open_tag }}{{ element | open_tag}}{{ element | close_tag }}{{ element.wrapped_by | find_element_by_class_name | close_tag }}"
  "</window>"
"</template>";

TEST(TestGeneratedElement, {{ element.cls }})
{
  ImVue::Document document;
  document.parse(testDocument{{element.cls}});
  renderDocument(document);
}
{%- endfor %}
